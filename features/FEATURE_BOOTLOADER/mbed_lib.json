{
    "name": "bootloader",
    "config": {
        "flash-start-address": {
            "help": "Start address of internal flash.",
            "value": "MBED_CONF_TARGET_FLASH_START_ADDRESS"
        },
        "flash-size": {
            "help": "Total size of internal flash. Only used in this config to help the definition of other macros.",
            "value": "MBED_CONF_TARGET_FLASH_SIZE"
        },
        "reserved-size": {
            "help": "Maximum size reserved for the bootloader. Typically 64KB, but might be more if config sectors are between the bootloader and the application.",
            "value": "(64*1024)"
        },
        "application-header-address": {
            "help": "Address to the application header information in flash.",
            "value": "(MBED_CONF_TARGET_FLASH_START_ADDRESS + MBED_CONF_BOOTLOADER_RESERVED_SIZE)"
        },
        "application-start-address": {
            "help": "Address to the beginning of the active application firmware in flash.",
            "value": "(MBED_CONF_TARGET_FLASH_START_ADDRESS + MBED_CONF_BOOTLOADER_RESERVED_SIZE + 1*1024)"
        },
        "max-application-size": {
            "help": "Maximum size of the active application.",
            "value": "(MBED_CONF_TARGET_FLASH_START_ADDRESS + MBED_CONF_TARGET_FLASH_SIZE - MBED_CONF_BOOTLOADER_APPLICATION_START_ADDRESS)"
        },
        "cfg-sector-1-address": {
            "help": "Flash sector address for config sector 1. Typically the end of flash minus the size of 1 sectors. By default the value is inherited from target.",
            "value": "MBED_CONF_TARGET_CFG_SECTOR_1_ADDRESS"
        },
        "cfg-sector-1-size": {
            "help": "Flash sector size for config sector 1. Typically 4*1024 bytes. By default the value is inherited from target.",
            "value": "MBED_CONF_TARGET_CFG_SECTOR_1_SIZE"
        },
        "cfg-sector-2-address": {
            "help": "Flash sector address for config sector 2. Typically the end of flash minus the size of 2 sector (this and sector 1). By default the value is inherited from target.",
            "value": "MBED_CONF_TARGET_CFG_SECTOR_2_ADDRESS"
        },
        "cfg-sector-2-size": {
            "help": "Flash sector size for config sector 2. Typically 4*1024 bytes. By default the value is inherited from target.",
            "value": "MBED_CONF_TARGET_CFG_SECTOR_2_SIZE"
        },
        "cfg-num-sectors": {
            "help": "Number of SOTP sectors. By default the value is inherited from target.",
            "value": "MBED_CONF_TARGET_CFG_NUM_SECTORS"
        },
        "storage-address": {
            "help": "The starting address for the firmware storage when using block device (SD, QSPIF, SPIF, FlashIAP). Default 64MB (SD-friendly..).",
            "value": "(64*1024*1024)"
        },
        "storage-size": {
            "help": "Total storage allocated for firmware image(s). Default 2MB.",
            "value": "(2*1024*1024)"
        },
        "storage-locations": {
            "help": "Number of equally sized locations the storage space should be split into.",
            "value": 1
        }
    },
    "target_overrides": {
        "*": {
            "target.header_format": [
                ["magic", "const", "32be", "0x5a51b3d4"],
                ["version", "const", "32be", "2"],
                ["firmwareVersion", "timestamp", "64be", null],
                ["firmwareSize", "size", "64be", ["application"]],
                ["firmwareHash", "digest", "SHA256", "application"],
                ["hashpad", "const", "64be", "0"],
                ["hashpad", "const", "64be", "0"],
                ["hashpad", "const", "64be", "0"],
                ["hashpad", "const", "64be", "0"],
                ["campaign", "const", "64be", "0"],
                ["campaign", "const", "64be", "0"],
                ["firmwareSignatureSize", "const", "32be", "0"],
                ["headerCRC", "digest", "CRCITT32be", "header"]
            ]
        },
        "K64F": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_Freescale/mbed-bootloader-K64F.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "K66F": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_Freescale/mbed-bootloader-K66F.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "NUCLEO_F429ZI": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-NUCLEO_F429ZI.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "NUCLEO_F767ZI": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-NUCLEO_F767ZI.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "NUCLEO_F746ZG": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-NUCLEO_F746ZG.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "NUCLEO_F207ZG": {
            "target.components_add"             : ["SD"],
            "target.macros_add"                 : ["MBEDTLS_TEST_NULL_ENTROPY", "MBEDTLS_NO_DEFAULT_ENTROPY_SOURCES"],
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-NUCLEO_F207ZG.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "DISCO_L475VG_IOT01A": {
            "target.components_add"             : ["QSPIF"],
            "storage-address"                   : "(2*1024*1024)",
            "storage-size"                      : "(2*1024*1024)",
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-DISCO_L475VG_IOT01A.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "DISCO_F413ZH": {
            "target.components_add"             : ["QSPIF"],
            "storage-address"                   : "(2*1024*1024)",
            "storage-size"                      : "(2*1024*1024)",
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-DISCO_F413ZH.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "DISCO_F746NG": {
            "target.components_add"             : ["QSPIF"],
            "storage-address"                   : "(2*1024*1024)",
            "storage-size"                      : "(2*1024*1024)",
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-DISCO_F746NG.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "NUMAKER_PFM_NUC472": {
            "target.components_add"             : ["NUSD"],
            "target.bootloader_img"             : "targets/TARGET_NUVOTON/mbed-bootloader-NUMAKER_PFM_NUC472.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "NUMAKER_PFM_M487": {
            "target.components_add"             : ["NUSD"],
            "target.bootloader_img"             : "targets/TARGET_NUVOTON/mbed-bootloader-NUMAKER_PFM_M487.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "NUMAKER_IOT_M487": {
            "target.components_add"             : ["NUSD"],
            "target.bootloader_img"             : "targets/TARGET_NUVOTON/mbed-bootloader-NUMAKER_IOT_M487.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "SDT64B": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_Freescale/mbed-bootloader-SDT64B.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "GR_LYCHEE": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_RENESAS/mbed-bootloader-GR_LYCHEE.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "UBLOX_EVK_ODIN_W2": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-UBLOX_EVK_ODIN_W2.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "UBLOX_C030_U201": {
            "target.components_add"             : ["SD"],
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-UBLOX_C030_U201.bin",
            "target.header_offset"              : "0x10000",
            "target.app_offset"                 : "0x10400"
        },
        "MTB_MXCHIP_EMW3166": {
            "reserved-size"                     : "(128*1024)",
            "target.components_add"             : ["SPIF"],
            "storage-address"                   : "(2*1024*1024)",
            "storage-size"                      : "(1*1024*1024)",
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-MTB_MXCHIP_EMW3166.bin",
            "target.header_offset"              : "0x20000",
            "target.app_offset"                 : "0x20400"
        },
        "MTB_USI_WM_BN_BM_22": {
            "reserved-size"                     : "(128*1024)",
            "target.components_add"             : ["SPIF"],
            "storage-address"                   : "(2*1024*1024)",
            "storage-size"                      : "(1*1024*1024)",
            "target.bootloader_img"             : "targets/TARGET_STM/mbed-bootloader-MTB_USI_WM_BN_BM_22.bin",
            "target.header_offset"              : "0x20000",
            "target.app_offset"                 : "0x20400"
        }
    }
}
